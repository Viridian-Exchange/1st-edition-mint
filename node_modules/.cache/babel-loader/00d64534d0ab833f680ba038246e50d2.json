{"ast":null,"code":"var _jsxFileName = \"/Users/blakehatch/WebstormProjects/1st-edition-mint/src/components/Page/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { clearAllBodyScrollLocks } from \"body-scroll-lock\";\nimport styles from \"./Page.module.sass\";\nimport Header from \"../Header\";\nimport Footer from \"../Footer\";\nimport Web3 from \"web3\";\nimport Modal from \"../Modal\";\nimport WalletSelector from \"../WalletSelector\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Page = ({\n  ethBalance,\n  setEthBalance,\n  children\n}) => {\n  _s();\n\n  const [networkName, setNetworkName] = useState(\"\");\n  const [visibleModalWrongNetwork, setVisibleModalWrongNetwork] = useState(false);\n  const [visibleModalWallets, setVisibleModalWallets] = useState(false);\n  let web3 = new Web3(Web3.givenProvider || new Web3.providers.HttpProvider(\"https://polygon-mumbai.g.alchemy.com/v2/XvPpXkhm8UtkGw9b8tIMcR3vr1zTZd3b\") || \"HTTP://127.0.0.1:7545\");\n  const {\n    activate,\n    account,\n    library\n  } = useWeb3React();\n\n  const switchNetwork = async () => {\n    try {\n      await library.provider.request({\n        method: 'wallet_switchEthereumChain',\n        params: [{\n          chainId: '0x13881'\n        }] // chainId must be in hexadecimal numbers\n\n      });\n    } catch (switchError) {\n      alert(switchError); // 4902 error code indicates the chain is missing on the wallet\n\n      if (switchError.code === 4902) {\n        try {\n          await library.providerrequest({\n            method: 'wallet_addEthereumChain',\n            params: [{\n              chainName: 'Polygon Mumbai Testnet',\n              chainId: '0x13881',\n              nativeCurrency: {\n                name: 'Polygon',\n                symbol: 'MATIC',\n                decimals: 18\n              },\n              rpcUrls: ['https://matic-mumbai.chainstacklabs.com'],\n              blockExplorerUrls: ['https://mumbai.polygonscan.com/']\n            }]\n          });\n        } catch (error) {\n          console.error(error);\n        }\n      }\n    }\n  };\n\n  useEffect(async () => {\n    clearAllBodyScrollLocks();\n    await switchNetwork();\n  }, [account]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.page,\n    children: [networkName !== 'ropsten' && networkName !== '' && /*#__PURE__*/_jsxDEV(Modal, {\n      visible: visibleModalWrongNetwork,\n      onClose: () => {\n        setVisibleModalWrongNetwork(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 69\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      visible: visibleModalWallets,\n      onClose: () => setVisibleModalWallets(false),\n      children: /*#__PURE__*/_jsxDEV(WalletSelector, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 19\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(Header, {\n      ethBalance: ethBalance,\n      setEthBalance: setEthBalance,\n      account: account\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.inner,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 11\n  }, this);\n};\n\n_s(Page, \"ZtnYJLk6IfDsMl5zdmw+DL0YoBU=\", false, function () {\n  return [useWeb3React];\n});\n\n_c = Page;\nexport default Page;\n\nvar _c;\n\n$RefreshReg$(_c, \"Page\");","map":{"version":3,"sources":["/Users/blakehatch/WebstormProjects/1st-edition-mint/src/components/Page/index.js"],"names":["React","useEffect","useState","withRouter","clearAllBodyScrollLocks","styles","Header","Footer","Web3","Modal","WalletSelector","useWeb3React","Page","ethBalance","setEthBalance","children","networkName","setNetworkName","visibleModalWrongNetwork","setVisibleModalWrongNetwork","visibleModalWallets","setVisibleModalWallets","web3","givenProvider","providers","HttpProvider","activate","account","library","switchNetwork","provider","request","method","params","chainId","switchError","alert","code","providerrequest","chainName","nativeCurrency","name","symbol","decimals","rpcUrls","blockExplorerUrls","error","console","page","inner"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { clearAllBodyScrollLocks } from \"body-scroll-lock\";\nimport styles from \"./Page.module.sass\";\nimport Header from \"../Header\";\nimport Footer from \"../Footer\";\nimport Web3 from \"web3\";\nimport Modal from \"../Modal\";\nimport WalletSelector from \"../WalletSelector\";\nimport {useWeb3React} from \"@web3-react/core\";\n\n\nconst Page = ({ethBalance, setEthBalance, children}) => {\n    const [networkName, setNetworkName] = useState(\"\");\n    const [visibleModalWrongNetwork, setVisibleModalWrongNetwork] = useState(false);\n    const [visibleModalWallets, setVisibleModalWallets] = useState(false);\n\n  let web3 = new Web3(Web3.givenProvider || new Web3.providers.HttpProvider(\"https://polygon-mumbai.g.alchemy.com/v2/XvPpXkhm8UtkGw9b8tIMcR3vr1zTZd3b\") || \"HTTP://127.0.0.1:7545\");\n\n    const { activate, account, library } = useWeb3React();\n\n    const switchNetwork = async () => {\n        try {\n            await library.provider.request({\n                method: 'wallet_switchEthereumChain',\n                params: [{ chainId: '0x13881' }], // chainId must be in hexadecimal numbers\n            });\n        } catch (switchError) {\n            alert(switchError);\n            // 4902 error code indicates the chain is missing on the wallet\n            if (switchError.code === 4902) {\n                try {\n                    await library.providerrequest({\n                        method: 'wallet_addEthereumChain',\n                        params: [\n                            {\n                                chainName: 'Polygon Mumbai Testnet',\n                                chainId: '0x13881',\n                                nativeCurrency: {\n                                    name: 'Polygon',\n                                    symbol: 'MATIC',\n                                    decimals: 18\n                                },\n                                rpcUrls: ['https://matic-mumbai.chainstacklabs.com'],\n                                blockExplorerUrls: ['https://mumbai.polygonscan.com/']\n                            },\n                        ],\n                    });\n                } catch (error) {\n                    console.error(error)\n                }\n            }\n        }\n    };\n\n  useEffect(async () => {\n    clearAllBodyScrollLocks();\n    await switchNetwork();\n  }, [account]);\n\n      return (\n          <div className={styles.page}>\n              {(networkName !== 'ropsten' && networkName !== '') && <Modal\n                  visible={visibleModalWrongNetwork}\n                  onClose={() => {\n                      setVisibleModalWrongNetwork(false);\n                  }}\n              >\n              </Modal>}\n\n              <Modal\n                  visible={visibleModalWallets}\n                  onClose={() => setVisibleModalWallets(false)}\n              >\n                  <WalletSelector />\n              </Modal>\n              <Header ethBalance={ethBalance} setEthBalance={setEthBalance} account={account} />\n              <div className={styles.inner}>{children}</div>\n              <Footer/>\n          </div>\n      );\n};\n\nexport default Page;\n"]},"metadata":{},"sourceType":"module"}