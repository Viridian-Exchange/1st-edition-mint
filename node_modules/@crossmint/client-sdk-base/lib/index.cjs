var P=Object.defineProperty;var U=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var R=Object.prototype.hasOwnProperty;var A=(t,n)=>{for(var o in n)P(t,o,{get:n[o],enumerable:!0})},k=(t,n,o,e)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of D(n))!R.call(t,i)&&i!==o&&P(t,i,{get:()=>n[i],enumerable:!(e=U(n,i))||e.enumerable});return t};var L=t=>k(P({},"__esModule",{value:!0}),t);var q={};A(q,{baseUrls:()=>O,clientNames:()=>B,crossmintModalService:()=>Y,crossmintPayButtonService:()=>G,crossmintStatusButtonService:()=>H,crossmintStatusService:()=>j,customHeaders:()=>w,generateClientId:()=>M,mintingContractTypes:()=>T,onboardingRequestStatusResponse:()=>X});module.exports=L(q);var N=require("uuid");function M(){return(0,N.v4)()}var B=(o=>(o.reactUi="client-sdk-react-ui",o.vanillaUi="client-sdk-vanilla-ui",o))(B||{}),O=(e=>(e.prod="https://www.crossmint.io",e.staging="https://staging.crossmint.io/",e.dev="http://localhost:3001",e))(O||{}),w=(o=>(o.clientVersion="X-Client-Version",o.clientName="X-Client-Name",o))(w||{}),T=(e=>(e.CANDY_MACHINE="candy-machine",e.SOLANA_AUCTION="solana-auction",e.ERC_721="erc-721",e))(T||{}),X=(a=>(a.WAITING_SUBMISSION="waiting-submission",a.PENDING="pending",a.REJECTED="rejected",a.ACCEPTED="accepted",a.INVALID="invalid",a))(X||{});var y=(t="")=>t==="staging"?"https://staging.crossmint.io/":t==="prod"||!t?"https://www.crossmint.io":t;var x="__crossmint-overlay__";function V(){return`height=750,width=400,left=${window.innerWidth/2-200},top=${window.innerHeight/2-375},resizable=yes,scrollbars=yes,toolbar=yes,menubar=true,location=no,directories=no, status=yes`}var $=()=>{let t=document.createElement("div");t.setAttribute("id",x);let n={width:"100vw",height:"100vh","background-color":"rgba(0, 0, 0, 0.5)",position:"fixed","z-index":"99999999",top:"0",left:"0"};Object.assign(t.style,n),document.body.appendChild(t)},Q=()=>{let t=document.getElementById(x);t&&t.remove()};function Y({clientId:t,libVersion:n,showOverlay:o,setConnecting:e,environment:i,clientName:a}){let r=(g,c,s,m,p,I,C,h)=>{let S=y(i),E=encodeURIComponent(`${S}/checkout/mint?${(()=>{let u={clientId:t,closeOnSuccess:"false",clientName:a,clientVersion:n,mintConfig:JSON.stringify(g)};return c&&(u.collectionTitle=c),s&&(u.collectionDescription=s),m&&(u.collectionPhoto=m),p&&(u.mintTo=p),I&&(u.emailTo=I),C&&(u.listingId=C),h&&(u.whPassThroughArgs=JSON.stringify(h)),new URLSearchParams(u).toString()})()}`),_=`${S}/signin?callbackUrl=${E}`,b=window.open(_,"popUpWindow",V());b?(f(b),o&&$()):(e(!1),console.error("Failed to open popup window"))},l=(g,c,s,m,p,I,C,h)=>{e(!0),r(g,c,s,m,p,I,C,h)};function f(g){let c=setInterval(function(){g.closed&&(clearInterval(c),e(!1),o&&Q())},500)}return{connect:l}}function G({onClick:t,connecting:n}){return{checkProps:({collectionTitle:r,collectionDescription:l,collectionPhoto:f})=>{let g=r,c=l,s=f;return r==="<TITLE_FOR_YOUR_COLLECTION>"&&(console.warn("No collection title specified. Please add a collection title to your <CrossmintPayButton />"),g=""),l==="<DESCRIPTION_OF_YOUR_COLLECTION>"&&(console.warn("No collection description specified. Please add a collection description to your <CrossmintPayButton />"),c=""),f==="<OPT_URL_TO_PHOTO_COVER>"&&(console.warn("No collection photo specified. Please add a collection photo to your <CrossmintPayButton />"),s=""),[g,c,s]},getButtonText:r=>r?"Connecting ...":"Buy with credit card",shouldHideButton:({hideMintOnInactiveClient:r,status:l})=>r&&l!=="accepted",handleClick:(r,l)=>{t&&t(r),!n&&(r.defaultPrevented||l())}}}var W=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function v(t){return typeof t=="string"&&W.test(t)}var J=t=>{try{return v(t)}catch(n){return console.error(n),!1}};function j({libVersion:t,clientId:n,platformId:o,auctionId:e,mintConfig:i,setStatus:a,environment:r,clientName:l}){async function f(){if(!n||n===""||n==="<YOUR_CLIENT_ID>"){console.error("You must enter your own Crossmint client ID in <CrossmintPayButton clientId=XXX>");return}if(!J(n)){console.error("The clientId passed to is invalid. Make sure to pass the clientId obtained from the crossmint team, with format XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXX");return}let s=y(r),m=await fetch(`${s}/api/crossmint/onboardingRequests/${n}/status`,{headers:{["X-Client-Version"]:t,["X-Client-Name"]:l}});if(m.status===200){let p=await m.json();a(p.status)}else a("invalid")}let g=()=>{let s=y(r);window.open(`${s}/developers/onboarding?${c()}`,"_blank")},c=()=>{let s={clientId:n};return o&&(s.platformId=o),e&&(s.auctionId=e),i&&(s.mintConfig=JSON.stringify(i)),new URLSearchParams(s).toString()};return{fetchClientIntegration:f,goToOnboarding:g}}function H({onClick:t}){return{getButtonText:i=>{switch(i){case"invalid":return"Invalid clientId";case"waiting-submission":return"Click here to setup Crossmint";case"pending":return"Your application is under review";case"accepted":return"You're good to go!";case"rejected":return"Your application was rejected"}},isButtonDisabled:i=>i!=="waiting-submission",handleClick:(i,a,r)=>{t&&t(i),a==="waiting-submission"&&r()}}}0&&(module.exports={baseUrls,clientNames,crossmintModalService,crossmintPayButtonService,crossmintStatusButtonService,crossmintStatusService,customHeaders,generateClientId,mintingContractTypes,onboardingRequestStatusResponse});
