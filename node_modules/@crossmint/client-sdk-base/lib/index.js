import{v4 as w}from"uuid";function V(){return w()}var T=(r=>(r.reactUi="client-sdk-react-ui",r.vanillaUi="client-sdk-vanilla-ui",r))(T||{}),X=(n=>(n.prod="https://www.crossmint.io",n.staging="https://staging.crossmint.io/",n.dev="http://localhost:3001",n))(X||{}),x=(r=>(r.clientVersion="X-Client-Version",r.clientName="X-Client-Name",r))(x||{}),E=(n=>(n.CANDY_MACHINE="candy-machine",n.SOLANA_AUCTION="solana-auction",n.ERC_721="erc-721",n))(E||{}),_=(s=>(s.WAITING_SUBMISSION="waiting-submission",s.PENDING="pending",s.REJECTED="rejected",s.ACCEPTED="accepted",s.INVALID="invalid",s))(_||{});var I=(t="")=>t==="staging"?"https://staging.crossmint.io/":t==="prod"||!t?"https://www.crossmint.io":t;var N="__crossmint-overlay__";function U(){return`height=750,width=400,left=${window.innerWidth/2-200},top=${window.innerHeight/2-375},resizable=yes,scrollbars=yes,toolbar=yes,menubar=true,location=no,directories=no, status=yes`}var D=()=>{let t=document.createElement("div");t.setAttribute("id",N);let i={width:"100vw",height:"100vh","background-color":"rgba(0, 0, 0, 0.5)",position:"fixed","z-index":"99999999",top:"0",left:"0"};Object.assign(t.style,i),document.body.appendChild(t)},R=()=>{let t=document.getElementById(N);t&&t.remove()};function W({clientId:t,libVersion:i,showOverlay:r,setConnecting:n,environment:a,clientName:s}){let e=(g,c,o,f,y,C,h,P)=>{let S=I(a),B=encodeURIComponent(`${S}/checkout/mint?${(()=>{let u={clientId:t,closeOnSuccess:"false",clientName:s,clientVersion:i,mintConfig:JSON.stringify(g)};return c&&(u.collectionTitle=c),o&&(u.collectionDescription=o),f&&(u.collectionPhoto=f),y&&(u.mintTo=y),C&&(u.emailTo=C),h&&(u.listingId=h),P&&(u.whPassThroughArgs=JSON.stringify(P)),new URLSearchParams(u).toString()})()}`),O=`${S}/signin?callbackUrl=${B}`,b=window.open(O,"popUpWindow",U());b?(p(b),r&&D()):(n(!1),console.error("Failed to open popup window"))},l=(g,c,o,f,y,C,h,P)=>{n(!0),e(g,c,o,f,y,C,h,P)};function p(g){let c=setInterval(function(){g.closed&&(clearInterval(c),n(!1),r&&R())},500)}return{connect:l}}function j({onClick:t,connecting:i}){return{checkProps:({collectionTitle:e,collectionDescription:l,collectionPhoto:p})=>{let g=e,c=l,o=p;return e==="<TITLE_FOR_YOUR_COLLECTION>"&&(console.warn("No collection title specified. Please add a collection title to your <CrossmintPayButton />"),g=""),l==="<DESCRIPTION_OF_YOUR_COLLECTION>"&&(console.warn("No collection description specified. Please add a collection description to your <CrossmintPayButton />"),c=""),p==="<OPT_URL_TO_PHOTO_COVER>"&&(console.warn("No collection photo specified. Please add a collection photo to your <CrossmintPayButton />"),o=""),[g,c,o]},getButtonText:e=>e?"Connecting ...":"Buy with credit card",shouldHideButton:({hideMintOnInactiveClient:e,status:l})=>e&&l!=="accepted",handleClick:(e,l)=>{t&&t(e),!i&&(e.defaultPrevented||l())}}}var A=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function v(t){return typeof t=="string"&&A.test(t)}var k=t=>{try{return v(t)}catch(i){return console.error(i),!1}};function K({libVersion:t,clientId:i,platformId:r,auctionId:n,mintConfig:a,setStatus:s,environment:e,clientName:l}){async function p(){if(!i||i===""||i==="<YOUR_CLIENT_ID>"){console.error("You must enter your own Crossmint client ID in <CrossmintPayButton clientId=XXX>");return}if(!k(i)){console.error("The clientId passed to is invalid. Make sure to pass the clientId obtained from the crossmint team, with format XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXX");return}let o=I(e),f=await fetch(`${o}/api/crossmint/onboardingRequests/${i}/status`,{headers:{["X-Client-Version"]:t,["X-Client-Name"]:l}});if(f.status===200){let y=await f.json();s(y.status)}else s("invalid")}let g=()=>{let o=I(e);window.open(`${o}/developers/onboarding?${c()}`,"_blank")},c=()=>{let o={clientId:i};return r&&(o.platformId=r),n&&(o.auctionId=n),a&&(o.mintConfig=JSON.stringify(a)),new URLSearchParams(o).toString()};return{fetchClientIntegration:p,goToOnboarding:g}}function tt({onClick:t}){return{getButtonText:a=>{switch(a){case"invalid":return"Invalid clientId";case"waiting-submission":return"Click here to setup Crossmint";case"pending":return"Your application is under review";case"accepted":return"You're good to go!";case"rejected":return"Your application was rejected"}},isButtonDisabled:a=>a!=="waiting-submission",handleClick:(a,s,e)=>{t&&t(a),s==="waiting-submission"&&e()}}}export{X as baseUrls,T as clientNames,W as crossmintModalService,j as crossmintPayButtonService,tt as crossmintStatusButtonService,K as crossmintStatusService,x as customHeaders,V as generateClientId,E as mintingContractTypes,_ as onboardingRequestStatusResponse};
